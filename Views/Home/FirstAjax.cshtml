
@{
    ViewData["Title"] = "FirstAjax";
}

<h1>FirstAjax</h1>
<button type="button" id="buttonStart">Ajax Start</button>
<div id="div1" class="alert alert-secondary"></div>

@section Scripts{
<script>
    const btnStart = document.querySelector(`#buttonStart`);
    const divInfo = document.querySelector(`#div1`);
    btnStart.addEventListener(`click`, () => {
        //步驟一   建立Ajax物件
        const xhr = new XMLHttpRequest();

        xhr.addEventListener('load', () => {
            const data = xhr.responseText;

            //顯示資料
            divInfo.innerHTML = `<h2>${data}</h2>`;
        })
        //步驟二對伺服器端發出要求(Request)
        xhr.open("GET", "/api/index?name=Eason&age=25"); //瀏覽器網址
        xhr.send(); 

    })





</script>



 }
